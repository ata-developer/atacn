<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"                
                xmlns:p="http://primefaces.org/ui">

    <p:messages />
    <p:panel id="pnlDatosOrdenFactura" header="#{msj.detallesCliente}">
        <p:fieldset id="fdDatosOrden" legend="#{msj.datosParaOrden}">
            <p:panelGrid id="pngDetallesCliente" columns="2">
                <p:outputLabel
                    for="@next"
                    value="#{msj.descripcionTipoDocumento}" />
                <p:selectOneMenu
                    id="somSeleccionarCategoria"
                    value="#{ordenControlador.clienteOrden.tipoDocumento}"
                    required="true"
                    converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                    <f:selectItems value="#{ordenControlador.generarSelectItemDeTipoDocumento()}" />
                    <p:ajax event="change" update="pngDetallesCliente" />
                </p:selectOneMenu>

                <ui:include src="seleccionar-tipo-documento-orden.xhtml" />

                <p:outputLabel
                    for="@next"
                    value="#{msj.nombre}" />                    
                <p:inputText
                    id="iTNombre"
                    required="true"
                    value="#{ordenControlador.clienteOrden.nombre}"
                    placeholder="#{msj.ejemploNombre}"
                    onblur="value = value.toUpperCase()">
                    <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.apellido}" />                    
                <p:inputText
                    id="iTApellido"
                    required="true"
                    value="#{ordenControlador.clienteOrden.apellido}"
                    placeholder="#{msj.ejemploApellido}"
                    onblur="value = value.toUpperCase()">
                    <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.ciudad}" />                    
                <p:selectOneMenu
                    id="somSeleccionarCiudad"
                    value="#{ordenControlador.clienteOrden.ciudad}"
                    filter="true" 
                    filterMatchMode="contains"
                    required="true"
                    requiredMessage="#{msj.campoNecesario}"
                    converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                    <f:selectItems value="#{ordenControlador.generarSelectItemDeCiudad()}" />
                </p:selectOneMenu>

                <p:outputLabel
                    for="@next"
                    value="#{msj.callePrincipal}" />                    
                <p:inputText
                    id="iTCallePrincipal"
                    required="true"
                    value="#{ordenControlador.clienteOrden.callePrincipal}"
                    placeholder="#{msj.ejemploCalle}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.numeracion}" />                    
                <p:inputText
                    id="iTnumeracion"
                    required="true"
                    value="#{ordenControlador.clienteOrden.numeracion}"
                    placeholder="#{msj.ejemploNumeracion}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.calleSecundaria}" />                    
                <p:inputText
                    id="iTCalleSecundaria"
                    required="true"
                    value="#{ordenControlador.clienteOrden.calleSecundaria}"
                    placeholder="#{msj.ejemploSecundaria}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.telefono}" />                    
                <p:inputMask
                    id="iTTelefono"
                    required="true"
                    value="#{ordenControlador.clienteOrden.telefono}"
                    mask="999-9999"
                    placeholder="#{msj.mascaraEjemploTelefono}"
                    validatorMessage="#{msj.telefonoInvalido}">
                </p:inputMask>

                <p:outputLabel
                    for="@next"
                    value="#{msj.celular}" />                    
                <p:inputMask
                    id="ITCelular"
                    required="true"
                    value="#{ordenControlador.clienteOrden.celular}"
                    mask="999-999-9999"
                    placeholder="#{msj.mascaraEjemploCelular}"
                    validatorMessage="#{msj.celularInvalido}">
                </p:inputMask>

                <p:outputLabel
                    for="@next"
                    value="#{msj.correoElectronico}" />                    
                <p:inputText
                    id="iTCorreo"
                    required="true"
                    value="#{ordenControlador.clienteOrden.correo}"
                    placeholder="#{msj.ejemploCorreo}"
                    validatorMessage="#{msj.emailInvalido}">
                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                    <f:converter converterId="trimConverter" />
                </p:inputText>

            </p:panelGrid>
        </p:fieldset>
        <p/>
        <p:fieldset id="fdSeleccionarDatosFactura" legend="#{msj.seleccionarDatosFactura}">
            <p:panelGrid id="pngSeleccionDatosFactura" columns="2">
                <p:outputLabel
                    for="@next"
                    value="#{msj.deseaLlenarDatos}" />
                <p:selectOneRadio
                    id="sorFacturaDatosEsteMomento"
                    value="#{ordenControlador.llenarEsteMomento}">
                    <f:selectItem itemLabel="#{msj.si}" itemValue="true" />
                    <f:selectItem itemLabel="#{msj.no}" itemValue="false" />
                    <p:ajax 
                        update="pnlDatosOrdenFactura"
                        listener="#{ordenControlador.llenarEsteMomentoOrden}"/>
                </p:selectOneRadio>
                <p:outputLabel                
                    for="@next"
                    value="#{msj.llenarDatosFactura}"
                    rendered="#{ordenControlador.llenarEsteMomento}"/>
                <p:selectOneRadio 
                    id="sorTieneDatosFactura" 
                    value="#{ordenControlador.mismosDatosOrden}"
                    rendered="#{ordenControlador.llenarEsteMomento}">
                    <f:selectItem itemLabel="#{msj.si}" itemValue="true" />
                    <f:selectItem itemLabel="#{msj.no}" itemValue="false" />
                    <p:ajax update="pnlDatosOrdenFactura" listener="#{ordenControlador.mismosDatosParaFactura}"/>
                </p:selectOneRadio>

            </p:panelGrid>
        </p:fieldset>
        <p/>
        <p:fieldset id="fdDatosFactura" legend="#{msj.detallesFactura}" rendered="#{ordenControlador.llenarEsteMomento eq true}">
            <p:panelGrid id="pngDetallesFactura" columns="2">
                <p:outputLabel
                    for="@next"
                    value="#{msj.descripcionTipoDocumento}" />
                <p:selectOneMenu
                    id="somSeleccionarTipoDocumentoFactura"
                    value="#{ordenControlador.clienteFactura.tipoDocumento}"
                    required="true"
                    converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                    <f:selectItems value="#{ordenControlador.generarSelectItemDeTipoDocumento()}" />
                    <p:ajax event="change" update="pngDetallesFactura" />
                </p:selectOneMenu>

                <ui:include src="seleccionar-tipo-documento-factura.xhtml" />

                <p:outputLabel
                    for="@next"
                    value="#{msj.nombre}" />                    
                <p:inputText
                    id="iTNombreFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.nombre}"
                    placeholder="#{msj.ejemploNombre}"
                    onblur="value = value.toUpperCase()">
                    <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.apellido}" />                    
                <p:inputText
                    id="iTApellidoFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.apellido}"
                    placeholder="#{msj.ejemploApellido}"
                    onblur="value = value.toUpperCase()">
                    <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.ciudad}" />                    
                <p:selectOneMenu
                    id="somSeleccionarCiudadFactura"
                    value="#{ordenControlador.clienteFactura.ciudad}"
                    filter="true" 
                    filterMatchMode="contains"
                    required="true"
                    requiredMessage="#{msj.campoNecesario}"
                    converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                    <f:selectItems value="#{ordenControlador.generarSelectItemDeCiudad()}" />
                </p:selectOneMenu>

                <p:outputLabel
                    for="@next"
                    value="#{msj.callePrincipal}" />                    
                <p:inputText
                    id="iTCallePrincipalFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.callePrincipal}"
                    placeholder="#{msj.ejemploCalle}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.numeracion}" />                    
                <p:inputText
                    id="iTnumeracionFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.numeracion}"
                    placeholder="#{msj.ejemploNumeracion}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.calleSecundaria}" />                    
                <p:inputText
                    id="iTCalleSecundariaFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.calleSecundaria}"
                    placeholder="#{msj.ejemploSecundaria}"
                    onblur="value = value.toUpperCase()">
                    <f:converter converterId="trimConverter" />
                </p:inputText>

                <p:outputLabel
                    for="@next"
                    value="#{msj.telefono}" />                    
                <p:inputMask
                    id="iTTelefonoFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.telefono}"
                    mask="999-9999"
                    placeholder="#{msj.mascaraEjemploTelefono}"
                    validatorMessage="#{msj.telefonoInvalido}">
                </p:inputMask>

                <p:outputLabel
                    for="@next"
                    value="#{msj.celular}" />                    
                <p:inputMask
                    id="ITCelularFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.celular}"
                    mask="999-999-9999"
                    placeholder="#{msj.mascaraEjemploCelular}"
                    validatorMessage="#{msj.celularInvalido}">
                </p:inputMask>

                <p:outputLabel
                    for="@next"
                    value="#{msj.correoElectronico}" />                    
                <p:inputText
                    id="iTCorreoFactura"
                    required="true"
                    value="#{ordenControlador.clienteFactura.correo}"
                    placeholder="#{msj.ejemploCorreo}"
                    validatorMessage="#{msj.emailInvalido}">
                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                    <f:converter converterId="trimConverter" />
                </p:inputText>
            </p:panelGrid>
        </p:fieldset>
    </p:panel>
</ui:composition>