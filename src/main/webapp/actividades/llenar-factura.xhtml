<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"                
                xmlns:p="http://primefaces.org/ui">

    <p:messages />
    <p:panel id="pnlDatosFactura" header="#{msj.detallesFactura}">        
        <p:panelGrid columns="2">
            <p:outputLabel
                for="@next"
                value="#{msj.deseaLlenarDatos}" />
            <p:selectOneMenu
                id="sorFacturaDatosEsteMomento"
                value="#{ordenControlador.llenarEsteMomento}"
                required="true"
                converter="omnifaces.SelectItemsConverter">
                <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{ordenControlador.listaSiNo}" />
                <p:ajax
                    update="pnlDatosFactura"
                    listener="#{ordenControlador.llenarEsteMomentoOrden}"/>
            </p:selectOneMenu>
            <p:column id="columnLabelDatosFactura" rendered="#{ordenControlador.llenarEsteMomento}">
                <p:outputLabel                
                    for="sorTieneDatosFactura"
                    value="#{msj.llenarDatosFactura}"/>
            </p:column>
            <p:column id="columnLabelEntradaFactura" rendered="#{ordenControlador.llenarEsteMomento}">
                <p:selectOneMenu
                    id="sorTieneDatosFactura"
                    value="#{ordenControlador.mismosDatosOrden}"
                    required="true"
                    converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                    <f:selectItems value="#{ordenControlador.listaSiNo}" />
                    <p:ajax update="pnlParaLlenarDatosFactura"
                            listener="#{ordenControlador.mismosDatosParaFactura}"/>
                </p:selectOneMenu>
            </p:column>
        </p:panelGrid>
        <p/>
        <p:panel id="pnlParaLlenarDatosFactura" rendered="#{ordenControlador.llenarEsteMomento eq true}">
            <p:fieldset id="fieldDatosOrdenFactura" legend="#{msj.detallesFactura}" >
                <p:panelGrid id="pngDetallesFactura" columns="2">
                    <p:outputLabel
                        for="@next"
                        value="#{msj.descripcionTipoDocumento}" />
                    <p:selectOneMenu
                        id="somSeleccionarTipoDocumentoFactura"
                        value="#{ordenControlador.clienteFactura.tipoDocumento}"
                        required="true"
                        converter="omnifaces.SelectItemsConverter">
                        <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                        <f:selectItems value="#{ordenControlador.generarSelectItemDeTipoDocumento()}" />
                        <p:ajax event="change" update="pnlParaLlenarDatosFactura" />
                        <p:ajax event="itemSelect" update="pnlParaLlenarDatosFactura" />
                    </p:selectOneMenu>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.numeroDocumento}" />
                    <p:inputText
                        id="clienteFacturaTemporal" 
                        rendered="#{ordenControlador.clienteFactura.tipoDocumento.tipoDocumento eq null}"
                        disabled="true"
                        value="#{ordenControlador.clienteFactura.numeroDocumento}"/>



                    <p:inputMask
                        id="clienteFacturaCedula"
                        mask="9999999999"
                        rendered="#{ordenControlador.clienteFactura.tipoDocumento.tipoDocumento eq 'CÉDULA'}"
                        value="#{ordenControlador.clienteFactura.numeroDocumento}"
                        />
                    <p:inputMask
                        id="clienteFacturaRuc"
                        mask="9999999999999"
                        rendered="#{ordenControlador.clienteFactura.tipoDocumento.tipoDocumento eq 'RUC'}"
                        value="#{ordenControlador.clienteFactura.numeroDocumento}"
                        />
                    <p:inputText
                        id="clienteFacturaPasaporte" 
                        rendered="#{ordenControlador.clienteFactura.tipoDocumento.tipoDocumento eq 'PASAPORTE'}"
                        value="#{ordenControlador.clienteFactura.numeroDocumento}"/>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.nombre}" />                    
                    <p:inputText
                        id="iTNombreFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.nombre}"
                        placeholder="#{msj.ejemploNombre}"
                        onblur="value = value.toUpperCase()">
                        <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                        <f:converter converterId="trimConverter" />
                    </p:inputText>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.apellido}" />                    
                    <p:inputText
                        id="iTApellidoFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.apellido}"
                        placeholder="#{msj.ejemploApellido}"
                        onblur="value = value.toUpperCase()">
                        <p:keyFilter regEx="/[a-zA-ZáéíñóúüÁÉÍÑÓÚÜ\s]/"/>
                        <f:converter converterId="trimConverter" />
                    </p:inputText>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.ciudad}" />                    
                    <p:selectOneMenu
                        id="somSeleccionarCiudadFactura"
                        value="#{ordenControlador.clienteFactura.ciudad}"
                        filter="true" 
                        filterMatchMode="contains"
                        required="true"
                        requiredMessage="#{msj.campoNecesario}"
                        converter="omnifaces.SelectItemsConverter">
                        <f:selectItem itemLabel="#{msj.seleccionar}" value="#{null}" noSelectionOption="true" />
                        <f:selectItems value="#{ordenControlador.generarSelectItemDeCiudad()}" />
                    </p:selectOneMenu>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.callePrincipal}" />                    
                    <p:inputText
                        id="iTCallePrincipalFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.callePrincipal}"
                        placeholder="#{msj.ejemploCalle}"
                        onblur="value = value.toUpperCase()">
                        <f:converter converterId="trimConverter" />
                    </p:inputText>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.numeracion}" />                    
                    <p:inputText
                        id="iTnumeracionFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.numeracion}"
                        placeholder="#{msj.ejemploNumeracion}"
                        onblur="value = value.toUpperCase()">
                        <f:converter converterId="trimConverter" />
                    </p:inputText>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.calleSecundaria}" />                    
                    <p:inputText
                        id="iTCalleSecundariaFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.calleSecundaria}"
                        placeholder="#{msj.ejemploSecundaria}"
                        onblur="value = value.toUpperCase()">
                        <f:converter converterId="trimConverter" />
                    </p:inputText>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.telefono}" />                    
                    <p:inputMask
                        id="iTTelefonoFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.telefono}"
                        mask="999-9999"
                        placeholder="#{msj.mascaraEjemploTelefono}"
                        validatorMessage="#{msj.telefonoInvalido}">
                    </p:inputMask>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.celular}" />                    
                    <p:inputMask
                        id="ITCelularFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.celular}"
                        mask="999-999-9999"
                        placeholder="#{msj.mascaraEjemploCelular}"
                        validatorMessage="#{msj.celularInvalido}">
                    </p:inputMask>

                    <p:outputLabel
                        for="@next"
                        value="#{msj.correoElectronico}" />                    
                    <p:inputText
                        id="iTCorreoFactura"
                        required="true"
                        value="#{ordenControlador.clienteFactura.correo}"
                        placeholder="#{msj.ejemploCorreo}"
                        validatorMessage="#{msj.emailInvalido}">
                        <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                        <f:converter converterId="trimConverter" />
                    </p:inputText>
                </p:panelGrid>
            </p:fieldset>
        </p:panel>

    </p:panel>
</ui:composition>